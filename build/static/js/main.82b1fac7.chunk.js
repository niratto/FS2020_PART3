(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(13),c=n.n(l),u=n(2),r=function(e){var t=e.handleSearchChange,n=e.newSearch;return o.a.createElement("div",null,"search: ",o.a.createElement("input",{value:n,onChange:t}))},m=function(e){var t=e.addNumber,n=e.newName,a=e.handleNameChange,l=e.newNumber,c=e.handleNumberChange;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:t},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:n,onChange:a})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:l,onChange:c})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))))},i=function(e){var t=e.contact,n=e.deleteContact;return o.a.createElement("p",null,t.name," ",t.number,o.a.createElement("button",{onClick:n},"Delete"))},s=function(e){var t=e.contactsToShow,n=e.deleteContact;return o.a.createElement("div",null,t.map((function(e,t){return o.a.createElement(i,{key:t,contact:e,deleteContact:function(){return n(e.id,e)}})})))},d=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{className:"success"},t)},h=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{className:"error"},t)},f=function(e){var t=e.message;return null===t?null:o.a.createElement("div",{className:"delete"},t)},b=n(3),p=n.n(b),E="https://phonebook-fs2020.herokuapp.com/api/persons",v=function(){return p.a.get(E)},g=function(e){return p.a.post(E,e).then((function(e){return e.data}))},w=function(e,t,n,a,o){if(!0===window.confirm(o+": Are you really sure you want to delete '"+t.name+"'\n...with really old-school CGI-kinda way?!?!?!?!"))p.a.delete("".concat(E,"/").concat(e)).then((function(e){a(t.name+" deleteth from the phonebook of terror"),setTimeout((function(){a(null),window.location.reload()}),o),console.log("In here I should probably place some awesome action-thingy...")})).catch((function(e){n(t.name+" has already been deleted from the phonebook"),setTimeout((function(){n(null),window.location.reload()}),o)}))},j=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)(""),b=Object(u.a)(i,2),p=b[0],E=b[1],j=Object(a.useState)(""),C=Object(u.a)(j,2),O=C[0],k=C[1],y=Object(a.useState)(""),N=Object(u.a)(y,2),S=N[0],T=N[1],A=Object(a.useState)(!0),D=Object(u.a)(A,2),I=D[0],J=D[1],L=Object(a.useState)(null),P=Object(u.a)(L,2),q=P[0],x=P[1],B=Object(a.useState)(null),F=Object(u.a)(B,2),G=F[0],H=F[1],M=Object(a.useState)(null),Y=Object(u.a)(M,2),z=Y[0],K=Y[1];Object(a.useEffect)((function(){console.log("hookedi hook"),v().then((function(e){c(e.data)}))}),[]);console.log("showAll",I);var Q=I?l:l.filter((function(e){return e.name.includes(S)}));return o.a.createElement("div",null,o.a.createElement(h,{message:q}),o.a.createElement(d,{message:G}),o.a.createElement(f,{message:z}),o.a.createElement("h2",null,"Phonebook"),o.a.createElement(r,{handleSearchChange:function(e){T(e.target.value),J(!1)}}),o.a.createElement("h2",null,"Add a New Contact"),o.a.createElement(m,{addNumber:function(e){e.preventDefault();var t={name:p,number:O},n=!1,a=!1;l.map((function(e){return e.name===p&&(x(p+" is already added to phonebook"),setTimeout((function(){x(null)}),3e3),n=!0),null})),p.length<1&&(x("Can't add empty contact!"),setTimeout((function(){x(null)}),3e3),a=!0),n||a||g(t).then((function(e){console.log("numObject",e),c(l.concat(e)),E(""),k(""),J(!0),H(p+" addeth to the phonebook of terror"),setTimeout((function(){H(null)}),3e3)})).catch((function(e){x("You tried to add '"+p+"' which had insufficient data (name and phonenumber is required)"),setTimeout((function(){x(null)}),3e3)}))},newName:p,handleNameChange:function(e){E(e.target.value)},newNumber:O,handleNumberChange:function(e){k(e.target.value)}}),o.a.createElement("h2",null,"Contacts"),o.a.createElement(s,{contactsToShow:Q,deleteContact:function(e,t){w(e,t,x,K,3e3),console.log("After DELETE: ",e,t)}}))};n(36);c.a.render(o.a.createElement(j,{contacts:[{name:"test",number:"040-123456"},{name:"Arto Hellas",number:"040-123456"},{name:"Ada Lovelace",number:"39-44-5323523"},{name:"Dan Abramov",number:"12-43-234345"},{name:"Mary Poppendieck",number:"39-23-6423122"}]}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.82b1fac7.chunk.js.map