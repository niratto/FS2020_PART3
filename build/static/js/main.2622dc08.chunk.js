(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),l=t(13),c=t.n(l),u=t(2),r=function(e){var n=e.handleSearchChange,t=e.newSearch;return o.a.createElement("div",null,"search: ",o.a.createElement("input",{value:t,onChange:n}))},m=function(e){var n=e.addNumber,t=e.newName,a=e.handleNameChange,l=e.newNumber,c=e.handleNumberChange;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:n},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:t,onChange:a})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:l,onChange:c})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))))},i=function(e){var n=e.contact,t=e.deleteContact;return o.a.createElement("p",null,n.name," ",n.number,o.a.createElement("button",{onClick:t},"Delete"))},s=function(e){var n=e.contactsToShow,t=e.deleteContact;return o.a.createElement("div",null,n.map((function(e,n){return o.a.createElement(i,{key:n,contact:e,deleteContact:function(){return t(e.id,e)}})})))},d=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"success"},n)},h=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"error"},n)},f=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"delete"},n)},b=t(3),E=t.n(b),p="/api/persons",g=function(){return E.a.get(p)},v=function(e){return E.a.post(p,e).then((function(e){return e.data}))},w=function(e,n,t,a){E.a.put("".concat(p,"/").concat(e),n).then((function(){t(n.name+" updated with old-fashion style"),setTimeout((function(){t(null),window.location.reload()}),a)}))},j=function(e,n,t,a,o){!0===window.confirm(o+": Are you really sure you want to delete '"+n.name+"'\n...with really old-school CGI-kinda way?!?!?!?!")&&E.a.delete("".concat(p,"/").concat(e)).then((function(){a(n.name+" deleteth from the phonebook of terror"),setTimeout((function(){a(null),window.location.reload()}),o),console.log("In here I should probably place some awesome action-thingy...")})).catch((function(e){t(n.name+" has already been deleted from the phonebook"),setTimeout((function(){t(null),window.location.reload()}),o)}))},C=function(e){var n=Object(a.useState)([]),t=Object(u.a)(n,2),l=t[0],c=t[1],i=Object(a.useState)(""),b=Object(u.a)(i,2),E=b[0],p=b[1],C=Object(a.useState)(""),O=Object(u.a)(C,2),y=O[0],N=O[1],S=Object(a.useState)(""),k=Object(u.a)(S,2),T=k[0],A=k[1],D=Object(a.useState)(!0),I=Object(u.a)(D,2),J=I[0],L=I[1],P=Object(a.useState)(null),x=Object(u.a)(P,2),B=x[0],F=x[1],G=Object(a.useState)(null),H=Object(u.a)(G,2),M=H[0],W=H[1],q=Object(a.useState)(null),z=Object(u.a)(q,2),K=z[0],Q=z[1];Object(a.useEffect)((function(){console.log("hookedi hook"),g().then((function(e){c(e.data)}))}),[]);console.log("showAll",J);var R=J?l:l.filter((function(e){return e.name.includes(T)}));return o.a.createElement("div",null,o.a.createElement(h,{message:B}),o.a.createElement(d,{message:M}),o.a.createElement(f,{message:K}),o.a.createElement("h2",null,"Phonebook"),o.a.createElement(r,{handleSearchChange:function(e){A(e.target.value),L(!1)}}),o.a.createElement("h2",null,"Add a New Contact"),o.a.createElement(m,{addNumber:function(e){e.preventDefault();var n={name:E,number:y},t=!1,a=null;l.map((function(e){return e.name===E&&(a=e.id,setTimeout((function(){F(null)}),3e3)),null})),console.log("ID",a),E.length<1&&(F("Can't add empty contact!"),setTimeout((function(){F(null)}),3e3),t=!0),t||(null===a?v(n).then((function(e){console.log("numObject",e),c(l.concat(e)),p(""),N(""),L(!0),W(E+" addeth to the phonebook of terror"),setTimeout((function(){W(null)}),3e3)})).catch((function(e){console.log(e.response.data.error),F(e.response.data.error),setTimeout((function(){F(null)}),3e3)})):(console.log("We should update now!"),w(a,n,W,3e3)))},newName:E,handleNameChange:function(e){p(e.target.value)},newNumber:y,handleNumberChange:function(e){N(e.target.value)}}),o.a.createElement("h2",null,"Contacts"),o.a.createElement(s,{contactsToShow:R,deleteContact:function(e,n){j(e,n,F,Q,3e3),console.log("After DELETE: ",e,n)}}))};t(36);c.a.render(o.a.createElement(C,{contacts:[{name:"test",number:"040-123456"},{name:"Arto Hellas",number:"040-123456"},{name:"Ada Lovelace",number:"39-44-5323523"},{name:"Dan Abramov",number:"12-43-234345"},{name:"Mary Poppendieck",number:"39-23-6423122"}]}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.2622dc08.chunk.js.map